# Kali Linux Setup

## Connect to Kali

Make the same **SSH** connection as with Raspbian.

## Internet connection

Add a **DNS**:

In the file `nano  /etc/resolv.conf` add the line: `nameserver 8.8.8.8`

## Update Kali

1. `sudo apt-get update`
2. `sudo apt-get dist-upgrade`
3. `apt-get install build-essential`

## Configure Time Zone

```bash
sudo dpkg-reconfigure tzdata
```

## Enable/Disable Network interface cards
- `ifconfig wlan0 down`
- `ifconfig wlan0 up`

## Install VNC
The same way as with Raspbian.

## GPS install and setup:
1. Install everything: `sudo apt-get install gpsd gpsd-clients python-gps`

2. Modify: `nano  /etc/default/gpsd` so it looks like: 

```bash
# Default settings for gpsd.
# Please do not edit this file directly - use `dpkg-reconfigure gpsd' to
# change the options.
START_DAEMON="true"
GPSD_OPTIONS=""
DEVICES="/dev/ttyACM0"
USBAUTO="true"
GPSD_SOCKET="/var/run/gpsd.sock"
```

3. Verify if GPS adapter is passing info:

  Run: `cat /dev/ttyACM0`

  or: `gpsmon /dev/ttyACM0`

Other info:

- `ps ax | grep gpsd`

- `lsof -i :2947`

- `lsof -n | grep /dev/ttyACM0`

4. Start monitoring:

```bash
killall gpsd; sleep 1; cgps
```

## Install MySQL

1. `sudo apt-get update`
2. `sudo apt-get install mysql-server`

Login as root: `mysql -u root -p` and enter your password.

Grant access to root from any server to any DB: 

  `GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;`
  
Allow remote connections to the **mysql** server:
  - Open this file: `sudo nano /etc/mysql/my.cnf`
  - Change **bind-address** to be your server address: `bind-address=YOUR-SERVER-IP`

Now you can connect with **MySQLWorkbench**.

**Auto start MySQL service at boot**(on Debian and Ubuntu):

- Enable: `sudo update-rc.d mysql defaults`
- Disable: `sudo update-rc.d mysql remove`

**[!]** If it's not starting:

1. Check Firewall.
2. Run: `sudo service mysql restart`


## Copy files from local to Kali

```bash
scp /Users/User_Name/Downloads/AWUS036NH.tar root@192.168.2.2:/root/Desktop
```

To copy a file multiple times, run:

```bash
sshpass -p 'password' while true; do scp /Users/User_Name/Downloads/tempToPi.py pi@192.168.2.2:/home/pi/Downloads/temp; sleep 5; done
```
